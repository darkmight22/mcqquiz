{% extends "base.html" %}

{% block title %}Verify Email - CodeMCQ Arena{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card glass-card">
        <h2 class="auth-title">Verify Your Email</h2>
        <p class="auth-subtitle">
            We have sent a 6-digit OTP to your email. Enter it below to activate your account.
        </p>
        <form method="POST" action="{{ url_for('verify_email') }}" class="auth-form">
            <div class="form-group">
                <label for="email">Email</label>
                {% if email %}
                    <input type="email" id="email" name="email" class="form-input" value="{{ email }}" readonly>
                    <input type="hidden" name="email" value="{{ email }}">
                {% else %}
                    <input type="email" id="email" name="email" class="form-input" placeholder="Enter your email" required>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="otp">One-Time Password (OTP)</label>
                <input type="text" id="otp" name="otp" maxlength="6" minlength="6" required class="form-input" placeholder="Enter 6-digit OTP">
            </div>
            <button type="submit" class="btn btn-primary btn-block">Verify Email</button>
        </form>
        <div class="resend-otp">
            <form method="POST" action="{{ url_for('resend_otp') }}">
                <input type="hidden" name="email" value="{{ email }}">
                <button type="submit" class="btn btn-secondary btn-block">Resend OTP</button>
            </form>
            <p class="otp-hint">OTP expires in {{ otp_expiry_minutes }} minutes. Too many wrong attempts will lock it until you resend.</p>
        </div>
        <p class="auth-switch">
            Entered the wrong email? <a href="{{ url_for('signup') }}">Sign up again</a> or head back to <a href="{{ url_for('login') }}">login</a>.
        </p>
    </div>
</div>
{% endblock %}

